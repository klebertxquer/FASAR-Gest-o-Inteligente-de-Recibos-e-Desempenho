{
  "manifest.json": {
    "name": "FASAR Gestão de Recibos",
    "short_name": "FASAR",
    "start_url": "/",
    "display": "standalone",
    "background_color": "#ffffff",
    "theme_color": "#003366",
    "orientation": "portrait",
    "description": "Sistema de leitura e gestão de comprovantes bancários da FASAR.",
    "icons": [
      {
        "src": "/static/icons/icon-192.png",
        "sizes": "192x192",
        "type": "image/png"
      },
      {
        "src": "/static/icons/icon-512.png",
        "sizes": "512x512",
        "type": "image/png"
      }
    ]
  },

  "service-worker.js": """
    const CACHE_NAME = 'fasar-cache-v1';
    const urlsToCache = [
      '/',
      '/static/css/style.css',
      '/static/js/main.js',
      '/static/icons/icon-192.png',
      '/static/icons/icon-512.png'
    ];

    self.addEventListener('install', event => {
      event.waitUntil(
        caches.open(CACHE_NAME).then(cache => {
          return cache.addAll(urlsToCache);
        })
      );
    });

    self.addEventListener('fetch', event => {
      event.respondWith(
        caches.match(event.request).then(response => {
          return response || fetch(event.request);
        })
      );
    });
  """,

  "HTML <head> additions": [
    "<link rel=\"manifest\" href=\"/manifest.json\">",
    "<meta name=\"theme-color\" content=\"#003366\">",
    "<link rel=\"apple-touch-icon\" href=\"/static/icons/icon-192.png\">",
    "<script>",
    "  if ('serviceWorker' in navigator) {",
    "    window.addEventListener('load', () => {",
    "      navigator.serviceWorker.register('/service-worker.js');",
    "    });",
    "  }",
    "</script>"
  ]
}
